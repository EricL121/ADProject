@model ADProject.Models.Recipe

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

@*<div>
        <h4>Recipe</h4>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Title)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Title)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Description)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Description)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DateCreated)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DateCreated)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DurationInMins)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.DurationInMins)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Calories)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Calories)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.ServingSize)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.ServingSize)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.IsPublished)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.IsPublished)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.MainMediaUrl)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.MainMediaUrl)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.User)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.User.Email)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.RecipeSteps)
            </dt>
            @foreach (var step in Model.RecipeSteps)
            {
                <div>
                    <dd class="col-sm-10">
                        @step.StepNumber
                    </dd>
                    <dd class="col-sm-10">
                        @step.TextInstructions
                    </dd>
                </div>
            }
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.RecipeIngredients)
            </dt>
            @foreach (var ingredient in Model.RecipeIngredients)
            {
                <div>
                    <dd class="col-sm-10">
                        @ingredient.Ingredient
                    </dd>
                    <dd class="col-sm-10">
                        @ingredient.Quantity
                    </dd>
                    <dd class="col-sm-10">
                        @ingredient.UnitOfMeasurement
                    </dd>
                </div>
            }
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.RecipeTags)
            </dt>
            @foreach (var allergenTag in Model.RecipeTags)
            {
                if(allergenTag.IsAllergenTag == true)
                {
                    <div>
                        <dd class="col-sm-10">
                            @allergenTag.Tag.Warning
                        </dd>
                    </div>
                }
            }
        </dl>
    </div>*@

<link href="~/css/RecipeDetail.css" rel="stylesheet" type="text/css" />
<script src='https://kit.fontawesome.com/a076d05399.js'></script>

<h2> @Html.DisplayFor(model => model.Title)</h2>

<table>
    <tr>
        <td><i style='font-size:32px' class='fas'>&#xf406;</i>
        @Html.DisplayFor(model => model.User.FirstName) </td>

        <td>Featured in: Tribe name</td>

        <td>
            Tags :
            @foreach (var tag in Model.RecipeTags)
            {
                if (tag.IsAllergenTag == false )
                {
                        @tag.Tag.TagName 
                }
            }
        </td>
    </tr>
</table>
    

<table class="image_ingredients">
    <tr>
        <td>
            <img src=@Model.MainMediaUrl alt="a description of the image">
        </td>
        <td>
            <h3>Ingredients</h3>
            <p> for @Html.DisplayFor(model => model.ServingSize) serving</p>
            <ul>
                @foreach (var ingredient in Model.RecipeIngredients)
                {
                    <li>
                        <div>
                            @ingredient.Ingredient @ingredient.Quantity @ingredient.UnitOfMeasurement
                        </div>
                    </li>
                }
            </ul>
            <div>Calories: @Html.DisplayFor(model => model.Calories)</div>
            <div>
                <i style='font-size:24px' class='fas'>&#xf017;</i>
                @Html.DisplayFor(model => model.DurationInMins) minutes
            </div>



            @foreach (var allergenTag in Model.RecipeTags)
            {
                if (allergenTag.IsAllergenTag == true)
                {
                    <div>

                        <i style='font-size:24px' class='fas'>&#xf071;</i>
                        Warning may contains the traces of @allergenTag.Tag.Warning
                    </div>

                }
            }
            <div>
            <a href="###"><i style='font-size:24px' class='fas'>&#xf067;</i> Add to try Later</a>
            </div>
        </td>
    </tr>
</table>
<div><h3> How to Cook </h3></div>
<dl>
    @foreach (var step in Model.RecipeSteps)
    {
        <dt>
            
                STEP : @step.StepNumber
            
            <dd>
                <img src=@step.MediaFileUrl alt="a description of the image">
            </dd>
            <dd>
                @step.TextInstructions
            </dd>

        </dt>
    }
</dl>

<div>
    <a asp-action="Edit" asp-route-id="@Model.RecipeId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
